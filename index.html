<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Call Center Profile - Dynamic</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&family=Rajdhani:wght@400;600&display=swap" rel="stylesheet">
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: 'Inter', sans-serif;
background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
color: #e2e8f0;
min-height: 100vh;
overflow-x: hidden;
}

/* Cyberpunk Header */
.header {
background: linear-gradient(90deg, #1e293b 0%, #334155 50%, #1e293b 100%);
padding: 1.5rem 2rem;
border-bottom: 2px solid #3b82f6;
position: relative;
overflow: hidden;
}

.header::before {
content: '';
position: absolute;
top: 0;
left: -100%;
width: 100%;
height: 100%;
background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.1), transparent);
animation: scan 3s infinite;
}

@keyframes scan {
0% { left: -100%; }
100% { left: 100%; }
}

.header-content {
display: flex;
justify-content: space-between;
align-items: center;
position: relative;
z-index: 2;
}

.company-info h1 {
font-family: 'Poppins', sans-serif;
font-size: 2.5rem;
font-weight: 600;
color: #60a5fa;
text-shadow: 0 0 20px rgba(96, 165, 250, 0.5);
margin-bottom: 0.5rem;
letter-spacing: -0.02em;
}

.company-info .location {
font-family: 'Rajdhani', sans-serif;
font-size: 1.2rem;
color: #94a3b8;
font-weight: 600;
display: flex;
align-items: center;
gap: 1rem;
}

.time-weather-container {
display: flex;
gap: 1rem;
align-items: center;
}

.current-time {
background: linear-gradient(135deg, #1e293b, #334155);
border: 1px solid #3b82f6;
padding: 0.5rem 1rem;
border-radius: 0.5rem;
font-family: 'Rajdhani', sans-serif;
font-weight: 600;
color: #60a5fa;
text-shadow: 0 0 10px rgba(96, 165, 250, 0.3);
}

.weather-forecast {
background: linear-gradient(135deg, #1e293b, #334155);
border: 1px solid #3b82f6;
padding: 0.5rem 1rem;
border-radius: 0.5rem;
font-family: 'Rajdhani', sans-serif;
font-weight: 600;
color: #60a5fa;
text-shadow: 0 0 10px rgba(96, 165, 250, 0.3);
min-width: 200px;
}

.weather-forecast-content {
display: grid;
grid-template-columns: repeat(7, 1fr);
gap: 0.5rem;
font-size: 0.8rem;
}

.weather-day {
text-align: center;
padding: 0.2rem;
}

.weather-day-name {
font-size: 0.7rem;
color: #94a3b8;
margin-bottom: 0.1rem;
}

.weather-temp {
font-size: 0.8rem;
color: #60a5fa;
font-weight: 600;
}

.weather-desc {
font-size: 0.6rem;
color: #cbd5e1;
}

.header-actions {
display: flex;
gap: 1rem;
}

/* Search Section */
.search-section {
background: rgba(30, 41, 59, 0.8);
border: 1px solid #334155;
border-radius: 1rem;
padding: 1.5rem;
margin: 1rem 2rem;
backdrop-filter: blur(10px);
}

.search-container {
display: flex;
gap: 1rem;
align-items: center;
margin-bottom: 1rem;
}

.search-input {
flex: 1;
background: linear-gradient(135deg, #1e293b, #334155);
border: 1px solid #475569;
color: #e2e8f0;
padding: 1rem 1.5rem;
border-radius: 0.75rem;
font-family: 'Inter', sans-serif;
font-size: 1rem;
transition: all 0.3s ease;
}

.search-input:focus {
outline: none;
border-color: #3b82f6;
box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.search-input::placeholder {
color: #64748b;
}

.search-btn {
background: linear-gradient(45deg, #1e40af, #3b82f6);
border: 1px solid #60a5fa;
color: white;
padding: 1rem 2rem;
border-radius: 0.75rem;
font-family: 'Rajdhani', sans-serif;
font-weight: 600;
cursor: pointer;
transition: all 0.3s ease;
}

.search-btn:hover {
background: linear-gradient(45deg, #3b82f6, #60a5fa);
box-shadow: 0 0 20px rgba(96, 165, 250, 0.4);
}

.clear-search-btn {
background: linear-gradient(45deg, #dc2626, #ef4444);
border: 1px solid #f87171;
color: white;
padding: 1rem 1.5rem;
border-radius: 0.75rem;
font-family: 'Rajdhani', sans-serif;
font-weight: 600;
cursor: pointer;
transition: all 0.3s ease;
}

.clear-search-btn:hover {
background: linear-gradient(45deg, #ef4444, #f87171);
box-shadow: 0 0 20px rgba(248, 113, 113, 0.4);
}

.search-results {
font-family: 'Inter', sans-serif;
color: #cbd5e1;
font-size: 0.9rem;
}

.search-highlight {
background: rgba(59, 130, 246, 0.2);
border: 1px solid #3b82f6;
border-radius: 0.25rem;
padding: 0.2rem 0.4rem;
}

/* Navigation */
.nav-section {
background: rgba(30, 41, 59, 0.6);
border: 1px solid #334155;
border-radius: 0.75rem;
margin: 1rem 2rem;
padding: 1rem;
backdrop-filter: blur(10px);
}

.nav-buttons {
display: flex;
gap: 1rem;
flex-wrap: wrap;
}

.nav-btn {
background: linear-gradient(135deg, #1e293b, #334155);
border: 1px solid #475569;
color: #e2e8f0;
padding: 0.75rem 1.5rem;
border-radius: 0.5rem;
font-family: 'Rajdhani', sans-serif;
font-weight: 600;
cursor: pointer;
transition: all 0.3s ease;
}

.nav-btn:hover, .nav-btn.active {
background: linear-gradient(45deg, #1e40af, #3b82f6);
border-color: #60a5fa;
color: white;
box-shadow: 0 0 15px rgba(96, 165, 250, 0.3);
}

/* Content Sections */
.content-section {
margin: 1rem 2rem;
}

.section {
display: none;
background: rgba(30, 41, 59, 0.6);
border: 1px solid #334155;
border-radius: 0.75rem;
padding: 1.5rem;
backdrop-filter: blur(10px);
}

.section.active {
display: block;
animation: fadeIn 0.3s ease-in;
}

@keyframes fadeIn {
from { opacity: 0; transform: translateY(10px); }
to { opacity: 1; transform: translateY(0); }
}

.section h2 {
color: #60a5fa;
font-family: 'Rajdhani', sans-serif;
font-size: 1.5rem;
margin-bottom: 1rem;
display: flex;
align-items: center;
gap: 0.5rem;
}

/* Service Cards */
.services-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
gap: 1rem;
}

.service-card {
background: linear-gradient(135deg, #1e293b, #334155);
border: 1px solid #475569;
border-radius: 0.75rem;
padding: 1.5rem;
transition: all 0.3s ease;
}

.service-card:hover {
border-color: #3b82f6;
box-shadow: 0 0 25px rgba(59, 130, 246, 0.2);
}

.service-name {
color: #60a5fa;
font-family: 'Rajdhani', sans-serif;
font-size: 1.25rem;
font-weight: 600;
margin-bottom: 0.5rem;
}

.service-description {
color: #cbd5e1;
font-size: 0.9rem;
margin-bottom: 1rem;
line-height: 1.5;
}

.service-pricing {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
gap: 0.75rem;
margin-top: 1rem;
}

.price-item {
background: rgba(15, 23, 42, 0.5);
padding: 0.75rem;
border-radius: 0.5rem;
border: 1px solid #334155;
}

.price-label {
font-size: 0.75rem;
color: #94a3b8;
text-transform: uppercase;
margin-bottom: 0.25rem;
}

.price-value {
font-weight: 600;
color: #10b981;
}

.pests-covered {
color: #e2e8f0 !important;
}

/* Technician Cards */
.technicians-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
gap: 1rem;
}

.technician-card {
background: linear-gradient(135deg, #1e293b, #334155);
border: 1px solid #475569;
border-radius: 0.75rem;
padding: 1.5rem;
transition: all 0.3s ease;
}

.technician-card:hover {
border-color: #10b981;
box-shadow: 0 0 25px rgba(16, 185, 129, 0.2);
}

.technician-name {
color: #10b981;
font-family: 'Rajdhani', sans-serif;
font-size: 1.1rem;
font-weight: 600;
margin-bottom: 0.5rem;
}

.technician-info {
color: #cbd5e1;
font-size: 0.9rem;
margin-bottom: 0.5rem;
}

/* Office Info */
.office-info-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
gap: 1rem;
}

.info-item {
background: rgba(15, 23, 42, 0.5);
padding: 1rem;
border-radius: 0.5rem;
border: 1px solid #334155;
}

.info-label {
font-size: 0.8rem;
color: #94a3b8;
text-transform: uppercase;
margin-bottom: 0.5rem;
}

.info-value {
color: #e2e8f0;
font-weight: 500;
}

.info-value a {
color: #60a5fa;
text-decoration: none;
}

.info-value a:hover {
text-decoration: underline;
}

/* Tools Section */
.tools-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
gap: 1rem;
}

.tool-item {
background: linear-gradient(135deg, #1e293b, #334155);
border: 1px solid #475569;
border-radius: 0.75rem;
padding: 1rem;
text-align: center;
transition: all 0.3s ease;
cursor: pointer;
}

.tool-item:hover {
border-color: #f59e0b;
box-shadow: 0 0 25px rgba(245, 158, 11, 0.2);
}

.tool-name {
color: #f59e0b;
font-family: 'Rajdhani', sans-serif;
font-weight: 600;
margin-bottom: 0.5rem;
}

.tool-description {
color: #cbd5e1;
font-size: 0.9rem;
}

/* Bulletin Alert */
.bulletin-alert {
background: linear-gradient(45deg, #dc2626, #ef4444);
border: 1px solid #f87171;
border-radius: 0.75rem;
padding: 1rem;
margin-bottom: 1rem;
color: white;
}

.bulletin-alert h3 {
margin-bottom: 0.5rem;
font-family: 'Rajdhani', sans-serif;
}

/* Pests Not Covered Alert */
.pests-not-covered-alert {
background: linear-gradient(45deg, #dc2626, #ef4444);
border: 1px solid #f87171;
border-radius: 0.75rem;
padding: 1rem;
margin-bottom: 1rem;
color: white;
}

.pests-not-covered-alert h3 {
margin-bottom: 0.5rem;
font-family: 'Rajdhani', sans-serif;
}

/* Responsive Design */
@media (max-width: 768px) {
.header-content {
flex-direction: column;
gap: 1rem;
text-align: center;
}

.search-container {
flex-direction: column;
}

.nav-buttons {
justify-content: center;
}

.services-grid,
.technicians-grid,
.office-info-grid,
.tools-grid {
grid-template-columns: 1fr;
}
}

/* Loading State */
.loading {
text-align: center;
padding: 2rem;
color: #64748b;
}

.loading::after {
content: "‚ö°";
animation: pulse 1s infinite;
margin-left: 0.5rem;
}

@keyframes pulse {
0%, 100% { opacity: 1; }
50% { opacity: 0.5; }
}
</style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="company-info">
                <h1 id="companyName">Loading...</h1>
                <div class="location">
                    üìç <span id="companyLocation">Loading...</span>
                </div>
            </div>
            <div class="time-weather-container">
                <div class="current-time" id="currentTime">Loading...</div>
                <div class="weather-forecast" id="weatherForecast">
                    <div class="weather-forecast-content" id="weatherContent">
                        Loading weather...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="search-section">
        <div class="search-container">
            <input type="text" id="pestSearch" class="search-input" placeholder="Search for pests, services, or treatments...">
            <button class="search-btn" onclick="searchPests()">üîç Search</button>
            <button class="clear-search-btn" onclick="clearSearch()">Clear</button>
        </div>
        <div class="search-results" id="searchResults"></div>
    </div>

    <div class="nav-section">
        <div class="nav-buttons">
            <button class="nav-btn active" onclick="showSection('office')">üè¢ Office Info</button>
            <button class="nav-btn" onclick="showSection('services')">üõ°Ô∏è Services</button>
            <button class="nav-btn" onclick="showSection('technicians')">üë®‚Äçüîß Technicians</button>
            <button class="nav-btn" onclick="showSection('tools')">üîß Tools</button>
        </div>
    </div>

    <div class="content-section">
        <div id="bulletinSection"></div>
        <div id="pestsNotCoveredSection"></div>

        <div id="office" class="section active">
            <h2>üè¢ Office Information</h2>
            <div class="office-info-grid" id="officeInfo">
                <div class="loading">Loading office information...</div>
            </div>
        </div>

        <div id="services" class="section">
            <h2>üõ°Ô∏è Services</h2>
            <div class="services-grid" id="servicesGrid">
                <div class="loading">Loading services...</div>
            </div>
        </div>

        <div id="technicians" class="section">
            <h2>üë®‚Äçüîß Technicians</h2>
            <div class="technicians-grid" id="techniciansGrid">
                <div class="loading">Loading technicians...</div>
            </div>
        </div>

        <div id="tools" class="section">
            <h2>üîß Tools & Resources</h2>
            <div class="tools-grid" id="toolsGrid">
                <div class="loading">Loading tools...</div>
            </div>
        </div>
    </div>

<script>
// Get URL parameters
function getUrlParameters() {
const urlParams = new URLSearchParams(window.location.search);
return {
companyName: urlParams.get('companyName') || 'SOS Exterminating',
location: urlParams.get('location') || 'Dallas, TX',
phone: urlParams.get('phone') || '(214) 555-0123',
email: urlParams.get('email') || 'dallas@sosexterminating.com',
website: urlParams.get('website') || 'www.sosexterminating.com',
hours: urlParams.get('hours') || 'Mon-Fri: 8AM-6PM, Sat: 9AM-3PM',
manager: urlParams.get('manager') || 'John Smith',
bulletin: urlParams.get('bulletin') || '',
pestsNotCovered: urlParams.get('pestsNotCovered') || ''
};
}

// Sample data (will be replaced with real data from URL parameters)
const sampleData = {
companyName: "SOS Exterminating",
location: "Dallas, TX",
phone: "(214) 555-0123",
email: "dallas@sosexterminating.com",
website: "www.sosexterminating.com",
hours: "Mon-Fri: 8AM-6PM, Sat: 9AM-3PM",
manager: "John Smith",
bulletin: "This is test data - no Wix connection detected",
pestsNotCovered: "Test pests (sample data)",
services: [{
name: "Sample Service",
description: "This is sample data for testing",
firstPrice: "$150",
recurringPrice: "$45",
contract: "12 Months",
guarantee: "Test Guarantee",
duration: "30 Minutes",
pests: "Test Pests"
}],
technicians: [{
name: "Sample Technician",
phone: "(214) 555-0124",
email: "tech@sosexterminating.com",
specialties: "General Pest Control"
}],
tools: [{
name: "Sample Tool",
description: "This is a sample tool for testing",
url: "#"
}]
};

// Initialize the page
function initializePage() {
const data = getUrlParameters();

// Update header
document.getElementById('companyName').textContent = data.companyName;
document.getElementById('companyLocation').textContent = data.location;

// Update sections
populateOfficeInfo(data);
populateServices(sampleData.services);
populateTechnicians(sampleData.technicians);
populateTools(sampleData.tools);
populateBulletin(data.bulletin);
populatePestsNotCovered(data.pestsNotCovered);

// Start time updates
updateTime();
setInterval(updateTime, 1000);

// Load weather forecast
loadWeatherForecast(data.location);
}

// Weather functions
async function loadWeatherForecast(location) {
    try {
        // Get coordinates for the location
        const geoResponse = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(location)}&limit=1`);
        const geoData = await geoResponse.json();
        
        if (geoData.length === 0) {
            throw new Error('Location not found');
        }
        
        const lat = geoData[0].lat;
        const lon = geoData[0].lon;
        
        // Get weather forecast
        const weatherResponse = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&daily=temperature_2m_max,temperature_2m_min,weather_code&timezone=auto&forecast_days=7`);
        const weatherData = await weatherResponse.json();
        
        displayWeatherForecast(weatherData.daily);
    } catch (error) {
        console.error('Error loading weather:', error);
        document.getElementById('weatherContent').innerHTML = 'Weather unavailable';
    }
}

function displayWeatherForecast(dailyData) {
    const weatherContent = document.getElementById('weatherContent');
    const days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
    
    let forecastHTML = '';
    
    for (let i = 0; i < 7; i++) {
        const date = new Date();
        date.setDate(date.getDate() + i);
        const dayName = days[date.getDay()];
        
        const maxTemp = Math.round(dailyData.temperature_2m_max[i]);
        const minTemp = Math.round(dailyData.temperature_2m_min[i]);
        const weatherCode = dailyData.weather_code[i];
        const weatherDesc = getWeatherDescription(weatherCode);
        
        forecastHTML += `
            <div class="weather-day">
                <div class="weather-day-name">${dayName}</div>
                <div class="weather-temp">${maxTemp}¬∞</div>
                <div class="weather-desc">${weatherDesc}</div>
            </div>
        `;
    }
    
    weatherContent.innerHTML = forecastHTML;
}

function getWeatherDescription(code) {
    const weatherCodes = {
        0: '‚òÄÔ∏è',
        1: 'üå§Ô∏è',
        2: '‚õÖ',
        3: '‚òÅÔ∏è',
        45: 'üå´Ô∏è',
        48: 'üå´Ô∏è',
        51: 'üå¶Ô∏è',
        53: 'üå¶Ô∏è',
        55: 'üå¶Ô∏è',
        61: 'üåßÔ∏è',
        63: 'üåßÔ∏è',
        65: 'üåßÔ∏è',
        71: 'üå®Ô∏è',
        73: 'üå®Ô∏è',
        75: 'üå®Ô∏è',
        95: '‚õàÔ∏è'
    };
    return weatherCodes[code] || 'üå§Ô∏è';
}

// Time functions
function updateTime() {
try {
const now = new Date();
const timeString = now.toLocaleTimeString('en-US', {
hour: '2-digit',
minute: '2-digit',
second: '2-digit',
hour12: true
});
document.getElementById('currentTime').textContent = timeString;
} catch (error) {
document.getElementById('currentTime').textContent = 'Time Error';
}
}

// Population functions
function populateOfficeInfo(data) {
const officeInfo = document.getElementById('officeInfo');
officeInfo.innerHTML = `
<div class="info-item">
<div class="info-label">Phone</div>
<div class="info-value"><a href="tel:${data.phone}">${data.phone}</a></div>
</div>
<div class="info-item">
<div class="info-label">Email</div>
<div class="info-value"><a href="mailto:${data.email}">${data.email}</a></div>
</div>
<div class="info-item">
<div class="info-label">Website</div>
<div class="info-value"><a href="https://${data.website}" target="_blank">${data.website}</a></div>
</div>
<div class="info-item">
<div class="info-label">Hours</div>
<div class="info-value">${data.hours}</div>
</div>
<div class="info-item">
<div class="info-label">Manager</div>
<div class="info-value">${data.manager}</div>
</div>
`;
}

function populateServices(services) {
const servicesGrid = document.getElementById('servicesGrid');
servicesGrid.innerHTML = '';

services.forEach(service => {
const serviceCard = createServiceCard(service);
servicesGrid.appendChild(serviceCard);
});
}

function createServiceCard(service) {
const serviceCard = document.createElement('div');
serviceCard.className = 'service-card';

serviceCard.innerHTML = `
<div class="service-name">${service.name || 'Unnamed Service'}</div>
<div class="service-description">${service.description || 'No description available.'}</div>
<div class="service-pricing">
<div class="price-item">
<div class="price-label">First Service</div>
<div class="price-value">${service.firstPrice || 'N/A'}</div>
</div>
<div class="price-item">
<div class="price-label">Recurring</div>
<div class="price-value">${service.recurringPrice || 'N/A'}</div>
</div>
<div class="price-item">
<div class="price-label">Contract</div>
<div class="price-value">${service.contract || 'N/A'}</div>
</div>
<div class="price-item">
<div class="price-label">Guarantee</div>
<div class="price-value">${service.guarantee || 'N/A'}</div>
</div>
<div class="price-item">
<div class="price-label">Duration</div>
<div class="price-value">${service.duration || 'N/A'}</div>
</div>
<div class="price-item">
<div class="price-label">Pests Covered</div>
<div class="price-value pests-covered">${service.pests || 'N/A'}</div>
</div>
</div>

${service.variants ? service.variants.map(variant => `
<div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #334155;">
<div class="service-name" style="font-size: 1rem; color: #94a3b8;">‚Ü≥ ${variant.name}</div>
<div class="service-description" style="font-size: 0.9rem;">${variant.description}</div>
<div class="service-pricing" style="grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));">
<div class="price-item">
<div class="price-label">First</div>
<div class="price-value">${variant.firstPrice || 'N/A'}</div>
</div>
<div class="price-item">
<div class="price-label">Recurring</div>
<div class="price-value">${variant.recurringPrice || 'N/A'}</div>
</div>
<div class="price-item">
<div class="price-label">Contract</div>
<div class="price-value">${variant.contract || 'N/A'}</div>
</div>
</div>
</div>
`).join('') : ''}
`;

return serviceCard;
}

function populateTechnicians(technicians) {
const techniciansGrid = document.getElementById('techniciansGrid');
techniciansGrid.innerHTML = '';

technicians.forEach(tech => {
const techCard = document.createElement('div');
techCard.className = 'technician-card';
techCard.innerHTML = `
<div class="technician-name">${tech.name}</div>
<div class="technician-info">üìû ${tech.phone}</div>
<div class="technician-info">üìß ${tech.email}</div>
<div class="technician-info">üéØ ${tech.specialties}</div>
`;
techniciansGrid.appendChild(techCard);
});
}

function populateTools(tools) {
const toolsGrid = document.getElementById('toolsGrid');
toolsGrid.innerHTML = '';

tools.forEach(tool => {
const toolItem = document.createElement('div');
toolItem.className = 'tool-item';
toolItem.innerHTML = `
<div class="tool-name">${tool.name}</div>
<div class="tool-description">${tool.description}</div>
`;
if (tool.url && tool.url !== '#') {
toolItem.onclick = () => window.open(tool.url, '_blank');
}
toolsGrid.appendChild(toolItem);
});
}

function populateBulletin(bulletin) {
const bulletinSection = document.getElementById('bulletinSection');
if (bulletin && bulletin.trim()) {
bulletinSection.innerHTML = `
<div class="bulletin-alert">
<h3>üì¢ Important Bulletin</h3>
<p>${bulletin}</p>
</div>
`;
} else {
bulletinSection.innerHTML = '';
}
}

function populatePestsNotCovered(pestsNotCovered) {
const pestsSection = document.getElementById('pestsNotCoveredSection');
if (pestsNotCovered && pestsNotCovered.trim()) {
pestsSection.innerHTML = `
<div class="pests-not-covered-alert">
<h3>‚ö†Ô∏è Pests Not Covered</h3>
<p>${pestsNotCovered}</p>
</div>
`;
} else {
pestsSection.innerHTML = '';
}
}

// Navigation functions
function showSection(sectionName) {
// Hide all sections
document.querySelectorAll('.section').forEach(section => {
section.classList.remove('active');
});

// Remove active class from all nav buttons
document.querySelectorAll('.nav-btn').forEach(btn => {
btn.classList.remove('active');
});

// Show selected section
document.getElementById(sectionName).classList.add('active');

// Add active class to clicked button
event.target.classList.add('active');
}

// Search functions
function searchPests() {
const searchTerm = document.getElementById('pestSearch').value.toLowerCase().trim();
const resultsDiv = document.getElementById('searchResults');

if (!searchTerm) {
resultsDiv.innerHTML = '';
return;
}

let results = [];
const searchableContent = [];

// Gather all searchable content
document.querySelectorAll('.service-card, .technician-card, .tool-item').forEach(element => {
const text = element.textContent.toLowerCase();
if (text.includes(searchTerm)) {
let type = 'Unknown';
let title = 'Unknown';

if (element.classList.contains('service-card')) {
type = 'Service';
title = element.querySelector('.service-name')?.textContent || 'Unknown Service';
} else if (element.classList.contains('technician-card')) {
type = 'Technician';
title = element.querySelector('.technician-name')?.textContent || 'Unknown Technician';
} else if (element.classList.contains('tool-item')) {
type = 'Tool';
title = element.querySelector('.tool-name')?.textContent || 'Unknown Tool';
}

results.push({ type, title, element });
}
});

// Display results
if (results.length > 0) {
const resultHTML = results.map(result => 
`<span class="search-highlight">${result.type}: ${result.title}</span>`
).join(', ');
resultsDiv.innerHTML = `Found ${results.length} result(s): ${resultHTML}`;

// Auto-navigate to appropriate section
if (results[0].type === 'Service') {
showSection('services');
} else if (results[0].type === 'Technician') {
showSection('technicians');
} else if (results[0].type === 'Tool') {
showSection('tools');
}
} else {
resultsDiv.innerHTML = `No results found for "${searchTerm}"`;
}
}

function clearSearch() {
document.getElementById('pestSearch').value = '';
document.getElementById('searchResults').innerHTML = '';
showSection('office');
}

// Add Enter key support for search
document.addEventListener('DOMContentLoaded', function() {
document.getElementById('pestSearch').addEventListener('keypress', function(e) {
if (e.key === 'Enter') {
searchPests();
}
});
});

// Initialize the page
document.addEventListener('DOMContentLoaded', initializePage);
</script>
</body>
</html>
